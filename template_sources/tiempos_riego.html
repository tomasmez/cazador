    <form action="/tiempos_riego" method="POST">
   
<fieldset>
  <legend>Zonas del Programa 1</legend>
  <div style="display: flex; gap: 10px;">
    XXXP1Z1INXXX
    <div>
      <label for="p1-zone1">Zona 1</label>
      <label for="p1-zone1-minutes">Minutos:</label>
      <select id="p1-zone1-minutes" name="p1-zone1-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z1OUTXXX
    XXXP1Z2INXXX
    <div>
      <label for="p1-zone2">Zona 2</label>
      <label for="p1-zone2-minutes">Minutos:</label>
      <select id="p1-zone2-minutes" name="p1-zone2-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z2OUTXXX
    XXXP1Z3INXXX
    <div>
      <label for="p1-zone3">Zona 3</label>
      <label for="p1-zone3-minutes">Minutos:</label>
      <select id="p1-zone3-minutes" name="p1-zone3-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z3OUTXXX
    XXXP1Z4INXXX
    <div>
      <label for="p1-zone4">Zona 4</label>
      <label for="p1-zone4-minutes">Minutos:</label>
      <select id="p1-zone4-minutes" name="p1-zone4-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z4OUTXXX
    XXXP1Z5INXXX
    <div>
      <label for="p1-zone5">Zona 5</label>
      <label for="p1-zone5-minutes">Minutos:</label>
      <select id="p1-zone5-minutes" name="p1-zone5-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z5OUTXXX
    XXXP1Z6INXXX
    <div>
      <label for="p1-zone6">Zona 6</label>
      <label for="p1-zone6-minutes">Minutos:</label>
      <select id="p1-zone6-minutes" name="p1-zone6-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z6OUTXXX
    XXXP1Z7INXXX
    <div>
      <label for="p1-zone7">Zona 7</label>
      <label for="p1-zone7-minutes">Minutos:</label>
      <select id="p1-zone7-minutes" name="p1-zone7-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP1Z7OUTXXX
  </div>
</fieldset>

<fieldset>
  <legend>Zonas del Programa 2</legend>
  <div style="display: flex; gap: 10px;">
    XXXP2Z1INXXX
    <div>
      <label for="p2-zone1">Zona 1</label>
      <label for="p2-zone1-minutes">Minutos:</label>
      <select id="p2-zone1-minutes" name="p2-zone1-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z1OUTXXX
    XXXP2Z2INXXX
    <div>
      <label for="p2-zone2">Zona 2</label>
      <label for="p2-zone2-minutes">Minutos:</label>
      <select id="p2-zone2-minutes" name="p2-zone2-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z2OUTXXX
    XXXP2Z3INXXX
    <div>
      <label for="p2-zone3">Zona 3</label>
      <label for="p2-zone3-minutes">Minutos:</label>
      <select id="p2-zone3-minutes" name="p2-zone3-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z3OUTXXX
    XXXP2Z4INXXX
    <div>
      <label for="p2-zone4">Zona 4</label>
      <label for="p2-zone4-minutes">Minutos:</label>
      <select id="p2-zone4-minutes" name="p2-zone4-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z4OUTXXX
    XXXP2Z5INXXX
    <div>
      <label for="p2-zone5">Zona 5</label>
      <label for="p2-zone5-minutes">Minutos:</label>
      <select id="p2-zone5-minutes" name="p2-zone5-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z5OUTXXX
    XXXP2Z6INXXX
    <div>
      <label for="p2-zone6">Zona 6</label>
      <label for="p2-zone6-minutes">Minutos:</label>
      <select id="p2-zone6-minutes" name="p2-zone6-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z6OUTXXX
    XXXP2Z7INXXX
    <div>
      <label for="p2-zone7">Zona 7</label>
      <label for="p2-zone7-minutes">Minutos:</label>
      <select id="p2-zone7-minutes" name="p2-zone7-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP2Z7OUTXXX
  </div>
</fieldset>

<fieldset>
  <legend>Zonas del Programa 3</legend>
  <div style="display: flex; gap: 10px;">
    XXXP3Z1INXXX
    <div>
      <label for="p3-zone1">Zona 1</label>
      <label for="p3-zone1-minutes">Minutos:</label>
      <select id="p3-zone1-minutes" name="p3-zone1-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z1OUTXXX
    XXXP3Z2INXXX
    <div>
      <label for="p3-zone2">Zona 2</label>
      <label for="p3-zone2-minutes">Minutos:</label>
      <select id="p3-zone2-minutes" name="p3-zone2-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z2OUTXXX
    XXXP3Z3INXXX
    <div>
      <label for="p3-zone3">Zona 3</label>
      <label for="p3-zone3-minutes">Minutos:</label>
      <select id="p3-zone3-minutes" name="p3-zone3-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z3OUTXXX
    XXXP3Z4INXXX
    <div>
      <label for="p3-zone4">Zona 4</label>
      <label for="p3-zone4-minutes">Minutos:</label>
      <select id="p3-zone4-minutes" name="p3-zone4-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z4OUTXXX
    XXXP3Z5INXXX
    <div>
      <label for="p3-zone5">Zona 5</label>
      <label for="p3-zone5-minutes">Minutos:</label>
      <select id="p3-zone5-minutes" name="p3-zone5-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z5OUTXXX
    XXXP3Z6INXXX
    <div>
      <label for="p3-zone6">Zona 6</label>
      <label for="p3-zone6-minutes">Minutos:</label>
      <select id="p3-zone6-minutes" name="p3-zone6-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z6OUTXXX
    XXXP3Z7INXXX
    <div>
      <label for="p3-zone7">Zona 7</label>
      <label for="p3-zone7-minutes">Minutos:</label>
      <select id="p3-zone7-minutes" name="p3-zone7-minutes">
        <option value=""></option>
      </select>
    </div>
    XXXP3Z7OUTXXX
  </div>
</fieldset>

   
    <button type="submit">Guardar</button>
    </form>

    <script>
      // Function to populate hours and minutes dropdowns
      function populateDropdowns() {
        let minutesDropdowns = document.querySelectorAll('select[id$="-minutes"]');
        
    
        // Populate minutes from 00 to 59
        for (let i = 0; i <= 20; i++) {
          let option = new Option(i.toString().padStart(2, '0'), i.toString().padStart(2, '0'));
          for (let dropdown of minutesDropdowns) {
            dropdown.add(option.cloneNode(true));
          }
        }
        
        // Set default value for minutes (00)
        for (let dropdown of minutesDropdowns) {
          dropdown.value = '00';
        }
      }
      
      // Call the function to populate dropdowns when the document is ready
      document.addEventListener('DOMContentLoaded', populateDropdowns);
    </script>
    
    <script>

      // Define the URL of the Flask endpoint
      const endpointUrl = '/return_json_file?file=seteo_programas.json';
      
      // Make a GET request to the Flask endpoint
      fetch(endpointUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          // Update dropdown selects for each program and zone based on JSON data
          ['p1', 'p2', 'p3'].forEach(program => {
            for (let zone = 1; zone <= XXXCANT_ZONASXXX; zone++) {
              const selectId = `${program}-zone${zone}-minutes`;
              const selectElement = document.getElementById(selectId);
              if (selectElement) {
                const defaultValue = data[`${program}-zone${zone}-minutes`][0] || ''; // Default value from JSON
                updateSelectOptions(selectElement, 0, 59, defaultValue);
              }
            }
          });
        })
        .catch(error => {
          console.error('There was a problem with the fetch operation:', error);
        });
      
      // Function to update select options with start and end values and set default selected value
      function updateSelectOptions(selectElement, startValue, endValue, defaultValue) {
        selectElement.innerHTML = ''; // Clear existing options
      
        for (let i = startValue; i <= endValue; i++) {
          const option = document.createElement('option');
          option.value = i;
          option.textContent = i.toString().padStart(2, '0'); // Add leading zero if needed
          if (i.toString() === defaultValue) {
            option.selected = true; // Set default selected value
          }
          selectElement.appendChild(option);
        }
      }
      
      
      </script>    
          

</body>
</html>
